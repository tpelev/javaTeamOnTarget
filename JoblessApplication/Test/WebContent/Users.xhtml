<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Users panel</title>
</h:head>
<h:body>
	<h:form>
		<h:commandButton style="height: 20px;width: 150px "
			action="Admin.xhtml" value="Admin home page">
		</h:commandButton>

		<h:form align="right">
			<h:commandButton style="height: 20px;width: 150px "
				action="#{LoginAsAdminB.logout}" value="Log out"></h:commandButton>
		</h:form>
	</h:form>

	<h:form>
		<h1 align="center">Welcome to user panel!</h1>
		<h:panelGroup rendered="#{companies.dtmdl.rowCount > 0}">
			<h4 align="center">
          <h:commandLink action="#{users.previous}"
				value="#{msg.Previous} #{users.pagination.pageSize}"
				rendered="#{users.pagination.hasPreviousPage}"> Previous</h:commandLink> &nbsp;
				<h:outputText
				value="#{users.pagination.pageFirstItem + 1}..#{users.pagination.pageLastItem + 1}/#{users.pagination.itemsCount}" /> &nbsp;
          <h:commandLink action="#{users.next}"
				value="#{msg.Next} #{users.pagination.pageSize}"
				rendered="#{users.pagination.hasNextPage}"> Next</h:commandLink> &nbsp;
				</h4>
				<h4 align="center">
   <h:dataTable value="#{users.dtmdl}" var="user" styleClass="table"
				headerClass="headers" border="1" cellspacing="0" cellpadding="5"
				frame="box">
				<h:column>
					<f:facet name="header">ID</f:facet>
					<h:outputText value="#{user.id}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">First name</f:facet>
					<h:outputText value="#{user.firstName}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">Last name</f:facet>
					<h:outputText value="#{user.lastName}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">Email</f:facet>
					<h:outputText value="#{user.email}"></h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">Options</f:facet>
					<h:commandButton value="Edit" style="width:100px;height:150"
						action="#{users.updateUserProfile(user)}" />
				</h:column>
			</h:dataTable>
			</h4>
		</h:panelGroup>
	</h:form>
</h:body>
</html>