<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core">
<h:head>

	<style> 
		 .Bimage{background-image:url("resources/css/back.jpg"); } 
		 .BigButton{font-style:italic;font-family:impact;font-size: 18px;color:#000000;background-color:#198BC9;height: 50px;width: 200px;}  
		 .SmallButton{font-style:italic;font-family:arial;font-size: 12px;color:#000000;background-color:#198BC9;height: 20px;width: 90px;}
		 .BackButton{font-family:arial;font-size: 12px;color:#000000;background-color:#198BC9;height: 20px;width: 150px ;}
		 .ColumnHeight{width: 10px; text-align: center;}
		 .RowWidth{height: 10px;text-align: center;}
	</style>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Companies panel</title>
</h:head>
<h:body styleClass="Bimage">  



	<h:form>
		<h:commandButton 
			styleClass="BackButton"
			action="AdminPanel.xhtml?faces-redirect=true"
			value="Admin home page">
		</h:commandButton>

		<h:form align="right">
			<h:commandButton
				styleClass="BackButton"
				action="#{LoginAsAdminB.logout}" 
				value="Log out">
			</h:commandButton>
		</h:form>
	</h:form>
	
	<h1 style="font-style: italic;" align="center">Welcome to the company panel!</h1>
	
	<h:form>
		<h:panelGroup rendered="#{companies.dtmdl.rowCount > 0}">
		
			<h4 align="center">
			
          <h:commandButton 
	          action="#{companies.previous}" 
	          styleClass="SmallButton" 
			  value="Previous" 
			  rendered="#{companies.pagination.hasPreviousPage}"> 
		  </h:commandButton> 
		  	&nbsp;
				<h:outputText
				value="#{companies.pagination.pageFirstItem + 1}..
				#{companies.pagination.pageLastItem + 1}/
				#{companies.pagination.itemsCount}" />
			&nbsp;
				
          <h:commandButton 
	           action="#{companies.next}"
	           styleClass="SmallButton" 
			   value="Next"
			   rendered="#{companies.pagination.hasNextPage}">
		   </h:commandButton>
		 
		    &nbsp;
				</h4>
				<h3 align="center">
				
				
		   <h:dataTable value="#{companies.dtmdl}" 
		   				var="company"
						style="width:80%;background:#4BAFE0" 
						headerClass="headers" 
						border="1" 
						cellspacing="0"
						cellpadding="5" 
						frame="box" 
						columnClasses="ColumnHeight"
						rowClasses="RowWidth" >
						
						<h:column>
							<f:facet name="header">ID</f:facet>
								<h:outputText 
									value="#{company.id}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Company name</f:facet>
								<h:outputText
								 	value="#{company.companyName}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Adress</f:facet>
								<h:outputText
								 	value="#{company.adress}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">MOL</f:facet>
								<h:outputText 
									value="#{company.mol}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">EIK</f:facet>
								<h:outputText 
									value="#{company.eik}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Email</f:facet>
								<h:outputText 
									value="#{company.email}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Company type</f:facet>
								<h:outputText 
									value="#{company.companyType}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Status</f:facet>
								<h:outputText
								 	value="#{company.status}">
								</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Options</f:facet>
								<h:commandButton 
									value="Edit" 
									styleClass="SmallButton"
									action="#{companies.sendToUpdate(company)}" >
								</h:commandButton>
							<br/>
								<h:commandButton 
									styleClass="SmallButton" 
									value="Approve"
									action="#{companies.updateAproval(company)}" >
								</h:commandButton>
							<br/>
								<h:commandButton 
									styleClass="SmallButton"
									value="Disapprove" 
									action="#{companies.notAproval(company)}" >
								</h:commandButton>
						</h:column>
					</h:dataTable>
			</h3>
		</h:panelGroup>
	</h:form>
</h:body>
</html>